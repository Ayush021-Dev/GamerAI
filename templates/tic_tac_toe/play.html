{% extends "base.html" %}

{% block title %}Tic-Tac-Toe - Game Hub{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/tic_tac_toe.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="game-container">
        <div class="game-header">
            <h2 class="game-title">Tic-Tac-Toe</h2>
            <div class="game-controls">
                <div class="first-player-toggle">
                    <button id="pve-mode-btn" class="toggle-btn active" data-value="pve">
                        VS Bot
                    </button>
                    <button id="pvp-mode-btn" class="toggle-btn" data-value="pvp">
                        VS Human
                    </button>
                </div>

                <div id="pve-controls" class="game-controls" style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <div class="first-player-toggle">
                        <button id="human-first-btn" class="toggle-btn active" data-value="human">
                            You First (X)
                        </button>
                        <button id="ai-first-btn" class="toggle-btn" data-value="ai">
                            Bot First (O)
                        </button>
                    </div>
                    
                    <select id="difficulty-select" class="difficulty-select">
                        <option value="easy">Easy</option>
                        <option value="medium" selected>Medium</option>
                        <option value="hard">Hard</option>
                    </select>
                </div>
                
                <button id="new-game-btn" class="btn btn-primary">New Game</button>
            </div>
        </div>

        <div class="game-status">
            <div id="status-message" class="status-message">Choose mode/difficulty and start a new game!</div>
            <div id="turn-indicator" class="turn-indicator" style="display: none;">
                <span class="current-player">Your turn</span>
            </div>
        </div>

        <div id="game-board" class="game-board">
            <div class="board-grid">
                {% for row in range(3) %}
                    {% for col in range(3) %}
                    <div class="cell" data-row="{{ row }}" data-col="{{ col }}"></div>
                    {% endfor %}
                {% endfor %}
            </div>
        </div>

        <div class="game-info">
            <div class="score-board">
                <div class="score-item">
                    <span id="human-score-label" class="label">You (X):</span>
                    <span id="human-score">0</span>
                </div>
                <div class="score-item">
                    <span id="ai-score-label" class="label">Bot (O):</span>
                    <span id="ai-score">0</span>
                </div>
                <div class="score-item">
                    <span class="label">Draws:</span>
                    <span id="draw-score">0</span>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="loading-overlay" class="loading-overlay" style="display: none;">
    <div class="loading-spinner"></div>
    <p>Bot is thinking...</p>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/tic_tac_toe.js') }}"></script>
{% endblock %}